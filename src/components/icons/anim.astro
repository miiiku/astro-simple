---
const { width = "48px", height = "48px" } = Astro.props;
---

<svg id="test_svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width={width} height={height} viewBox="0 0 24 24">
  <g stroke-linecap="round" stroke-linejoin="round" fill="currentColor" stroke="currentColor" stroke-width="2">
    <path id="line-t" d="M2.993761,2.953895c0,0,12.620508,0,18.029297,0C15.614269,8.385034,8.402549,15.626554,2.99376,21.057693" transform="translate(.000001 0)" fill="none" stroke="#3f5787" stroke-width="2"/>
    <path id="line-b" d="M11.999999,21.057693h9.02306L2.993761,2.953895" transform="translate(.000001 0)" fill="none" stroke="#3f5787" stroke-width="2"/>
    <path id="line-m" d="M7.597586,12h13.425473" fill="none" stroke="#3f5787" stroke-width="2"/>
  </g>
</svg>

<script>
  const svgEl = document.querySelector("#test_svg");
  svgEl?.addEventListener("click", () => toggle())
  function toggle() {
    if (svgEl?.classList.contains("open")) {
      svgEl?.classList.remove("open")
      svgEl?.classList.add("menu");
    } else {
      svgEl?.classList.remove("menu")
      svgEl?.classList.add("open");
    }
  }
</script>
<!-- 9px 25px -->
<!-- stroke-dasharray: 36px; -->
<!-- stroke-dashoffset: -9px; -->

<!-- 26 -->
<!-- 44px -->

<!-- 14px -->

<style>
  #line-b {
    stroke-dasharray: 9px 24px 36px;
    stroke-dashoffset: -45px;
  }

  #line-t {
    stroke-dasharray: 27px 44px;
    stroke-dashoffset: 9px;
  }

  #line-m {
    stroke-dasharray: 14px;
    stroke-dashoffset: 0;
  }

  #test_svg.menu #line-b {
    animation: back-lineb 0.4s ease-in-out forwards;
  }

  #test_svg.open #line-b {
    animation: run-lineb 0.4s ease-in-out forwards;
  }

  #test_svg.menu #line-t {
    animation: back-linet 0.4s ease-in-out forwards;
  }

  #test_svg.open #line-t {
    animation: run-linet 0.4s ease-in-out forwards;
  }

  #test_svg.menu #line-m {
    animation: back-linem 0.4s ease-in-out forwards;
  }

  #test_svg.open #line-m {
    animation: run-linem 0.4s ease-in-out forwards;
  }

  @keyframes run-lineb {
    0% { stroke-dashoffset: -45px; }
    100% { stroke-dashoffset: -69px; }
  }
  @keyframes back-lineb {
    0% { stroke-dashoffset: -69px; }
    100% { stroke-dashoffset: -45px; }
  }

  @keyframes run-linet {
    0% { stroke-dashoffset: 9px; }
    100% { stroke-dashoffset: -18px; }
  }

  @keyframes back-linet {
    0% { stroke-dashoffset: -18px; }
    100% { stroke-dashoffset: 9px; }
  }

  @keyframes run-linem {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: -14px; }
  }

  @keyframes back-linem {
    0% { stroke-dashoffset: -14px; }
    100% { stroke-dashoffset: 0px; }
  }
</style>